# Dockerfile for Jetson Inference Service on Jetson Nano (old-nano)
# Uses the jetson-inference Docker container as base

FROM dustynv/jetson-inference:r35.2.1

# Set working directory
WORKDIR /app

# Install Flask for HTTP server
RUN pip3 install flask

# Copy service files
COPY tools/jetson_inference_service.py /app/
COPY tools/desktop_notification.py /app/
RUN touch /app/__init__.py

# Add project root to Python path
ENV PYTHONPATH=/app:$PYTHONPATH

# Expose port
EXPOSE 9000

# Default command
CMD ["python3", "/app/jetson_inference_service.py", "--host", "0.0.0.0", "--port", "9000", "--device", "0"]

